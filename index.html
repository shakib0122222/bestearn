<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Panel Dashboard</title>
  <!-- TailwindCSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Lucide Icons CDN -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      transition: background-color 0.3s, color 0.3s;
    }
    .dark {
      background-color: #1f2937;
      color: #f9fafb;
    }
    .light {
      background-color: #f9fafb;
      color: #1f2937;
    }
    .sidebar {
      transition: transform 0.3s ease-in-out;
    }
    .sidebar-hidden {
      transform: translateX(-100%);
    }
    .card {
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease-in-out;
    }
    .card:hover {
      transform: translateY(-4px);
    }
    .rounded-2xl {
      border-radius: 1rem;
    }
    /* Chart.js styling for the earnings chart */
    canvas {
      max-width: 100%;
    }
  </style>
</head>
<body class="light min-h-screen">
  <!-- Navbar -->
  <nav class="flex items-center justify-between p-4 border-b bg-white dark:bg-gray-800 shadow-sm">
    <div class="text-lg font-bold">IncomeSite</div>
    <div class="flex items-center space-x-4">
      <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700">
        <i data-lucide="sun" class="w-5 h-5"></i>
      </button>
      <div class="relative">
        <button id="profile-toggle" class="flex items-center space-x-2">
          <img src="https://via.placeholder.com/32" alt="User" class="w-8 h-8 rounded-full">
          <span>User Name</span>
        </button>
        <div id="profile-dropdown" class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border rounded-2xl shadow-lg hidden">
          <div class="p-4">
            <p class="font-medium">User Name</p>
            <p class="text-sm text-gray-500 dark:text-gray-400">user@email.com</p>
          </div>
          <hr class="border-gray-200 dark:border-gray-700">
          <button class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700">Profile</button>
          <button class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700">Settings</button>
          <button class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center">
            <i data-lucide="log-out" class="w-4 h-4 mr-2"></i> Log Out
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Layout -->
  <div class="flex h-[calc(100vh-64px)]">
    <!-- Sidebar -->
    <aside id="sidebar" class="w-64 bg-white dark:bg-gray-800 border-r p-4 sidebar md:block hidden">
      <nav class="flex flex-col space-y-2">
        <button onclick="showPage('dashboard')" class="flex items-center space-x-2 p-2 rounded-2xl hover:bg-gray-100 dark:hover:bg-gray-700 text-left">
          <i data-lucide="layout-dashboard" class="w-4 h-4"></i>
          <span>Dashboard</span>
        </button>
        <button onclick="showPage('tasks')" class="flex items-center space-x-2 p-2 rounded-2xl hover:bg-gray-100 dark:hover:bg-gray-700 text-left">
          <i data-lucide="bar-chart-2" class="w-4 h-4"></i>
          <span>Tasks/Offers</span>
        </button>
        <button onclick="showPage('referral')" class="flex items-center space-x-2 p-2 rounded-2xl hover:bg-gray-100 dark:hover:bg-gray-700 text-left">
          <i data-lucide="link" class="w-4 h-4"></i>
          <span>Referral</span>
        </button>
        <button onclick="showPage('wallet')" class="flex items-center space-x-2 p-2 rounded-2xl hover:bg-gray-100 dark:hover:bg-gray-700 text-left">
          <i data-lucide="wallet" class="w-4 h-4"></i>
          <span>Wallet</span>
        </button>
        <button onclick="showPage('withdraw')" class="flex items-center space-x-2 p-2 rounded-2xl hover:bg-gray-100 dark:hover:bg-gray-700 text-left">
          <i data-lucide="dollar-sign" class="w-4 h-4"></i>
          <span>Withdraw</span>
        </button>
        <button onclick="showPage('support')" class="flex items-center space-x-2 p-2 rounded-2xl hover:bg-gray-100 dark:hover:bg-gray-700 text-left">
          <i data-lucide="help-circle" class="w-4 h-4"></i>
          <span>Support</span>
        </button>
        <button onclick="showPage('settings')" class="flex items-center space-x-2 p-2 rounded-2xl hover:bg-gray-100 dark:hover:bg-gray-700 text-left">
          <i data-lucide="settings" class="w-4 h-4"></i>
          <span>Settings</span>
        </button>
      </nav>
    </aside>

    <!-- Mobile Sidebar Toggle -->
    <button id="sidebar-toggle" class="md:hidden fixed top-4 left-4 p-2 rounded-full bg-gray-200 dark:bg-gray-700">
      <i data-lucide="menu" class="w-5 h-5"></i>
    </button>

    <!-- Main Content -->
    <main class="flex-1 p-6 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 overflow-y-auto">
      <!-- Dashboard Page -->
      <section id="dashboard" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
            <h3 class="text-lg font-semibold">Total Earnings</h3>
            <p class="text-2xl font-bold">$1,250.00</p>
          </div>
          <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
            <h3 class="text-lg font-semibold">Current Balance</h3>
            <p class="text-2xl font-bold">$450.00</p>
          </div>
          <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
            <h3 class="text-lg font-semibold">Completed Tasks</h3>
            <p class="text-2xl font-bold">42</p>
          </div>
        </div>
        <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
          <h3 class="text-lg font-semibold">Daily Earnings Trend</h3>
          <canvas id="earnings-chart"></canvas>
        </div>
      </section>

      <!-- Tasks Page -->
      <section id="tasks" class="space-y-6 hidden">
        <h2 class="text-2xl font-bold">Tasks/Offers</h2>
        <div id="task-list" class="grid grid-cols-1 gap-4">
          <!-- Tasks will be populated by JavaScript -->
        </div>
      </section>

      <!-- Referral Page -->
      <section id="referral" class="space-y-6 hidden">
        <h2 class="text-2xl font-bold">Referral</h2>
        <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
          <h3 class="text-lg font-semibold">Your Referral Link</h3>
          <div class="flex items-center space-x-2">
            <input type="text" value="https://incomesite.com/ref/12345" readonly class="w-full p-2 border rounded-2xl bg-gray-100 dark:bg-gray-700">
            <button onclick="copyReferralLink()" class="p-2 bg-blue-500 text-white rounded-2xl">Copy</button>
          </div>
        </div>
        <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
          <h3 class="text-lg font-semibold">Referred Users</h3>
          <table class="w-full text-left">
            <thead>
              <tr class="border-b">
                <th class="p-2">User</th>
                <th class="p-2">Commission</th>
              </tr>
            </thead>
            <tbody id="referral-table">
              <!-- Table rows populated by JavaScript -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- Wallet Page -->
      <section id="wallet" class="space-y-6 hidden">
        <h2 class="text-2xl font-bold">Wallet</h2>
        <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
          <h3 class="text-lg font-semibold">Transaction History</h3>
          <table class="w-full text-left">
            <thead>
              <tr class="border-b">
                <th class="p-2">Date</th>
                <th class="p-2">Type</th>
                <th class="p-2">Amount</th>
                <th class="p-2">Status</th>
              </tr>
            </thead>
            <tbody id="transaction-table">
              <!-- Table rows populated by JavaScript -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- Withdraw Page -->
      <section id="withdraw" class="space-y-6 hidden">
        <h2 class="text-2xl font-bold">Withdraw</h2>
        <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
          <h3 class="text-lg font-semibold">Withdraw Funds</h3>
          <form>
            <div class="mb-4">
              <label class="block text-sm font-medium">Withdraw Method</label>
              <select class="w-full p-2 border rounded-2xl bg-gray-100 dark:bg-gray-700">
                <option>bKash</option>
                <option>Nagad</option>
                <option>Bank</option>
              </select>
            </div>
            <div class="mb-4">
              <label class="block text-sm font-medium">Amount</label>
              <input type="number" class="w-full p-2 border rounded-2xl bg-gray-100 dark:bg-gray-700" placeholder="Minimum $10">
            </div>
            <button type="submit" class="p-2 bg-blue-500 text-white rounded-2xl">Request Withdrawal</button>
          </form>
          <p class="mt-4 text-sm text-gray-500 dark:text-gray-400">Minimum Withdraw Limit: $10</p>
          <p class="text-sm text-gray-500 dark:text-gray-400">Status: Pending</p>
        </div>
      </section>

      <!-- Support Page -->
      <section id="support" class="space-y-6 hidden">
        <h2 class="text-2xl font-bold">Support</h2>
        <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
          <h3 class="text-lg font-semibold">Submit a Ticket</h3>
          <form>
            <div class="mb-4">
              <label class="block text-sm font-medium">Title</label>
              <input type="text" class="w-full p-2 border rounded-2xl bg-gray-100 dark:bg-gray-700" placeholder="Issue title">
            </div>
            <div class="mb-4">
              <label class="block text-sm font-medium">Description</label>
              <textarea class="w-full p-2 border rounded-2xl bg-gray-100 dark:bg-gray-700" rows="4" placeholder="Describe your issue"></textarea>
            </div>
            <button type="submit" class="p-2 bg-blue-500 text-white rounded-2xl">Submit Ticket</button>
          </form>
        </div>
        <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
          <h3 class="text-lg font-semibold">Ticket History</h3>
          <table class="w-full text-left">
            <thead>
              <tr class="border-b">
                <th class="p-2">Title</th>
                <th class="p-2">Status</th>
              </tr>
            </thead>
            <tbody id="ticket-table">
              <!-- Table rows populated by JavaScript -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- Settings Page -->
      <section id="settings" class="space-y-6 hidden">
        <h2 class="text-2xl font-bold">Settings</h2>
        <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
          <h3 class="text-lg font-semibold">Update Profile</h3>
          <form>
            <div class="mb-4">
              <label class="block text-sm font-medium">Name</label>
              <input type="text" class="w-full p-2 border rounded-2xl bg-gray-100 dark:bg-gray-700" placeholder="Your name">
            </div>
            <div class="mb-4">
              <label class="block text-sm font-medium">Email</label>
              <input type="email" class="w-full p-2 border rounded-2xl bg-gray-100 dark:bg-gray-700" placeholder="Your email">
            </div>
            <button type="submit" class="p-2 bg-blue-500 text-white rounded-2xl">Save</button>
          </form>
        </div>
        <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
          <h3 class="text-lg font-semibold">Change Password</h3>
          <form>
            <div class="mb-4">
              <label class="block text-sm font-medium">Current Password</label>
              <input type="password" class="w-full p-2 border rounded-2xl bg-gray-100 dark:bg-gray-700" placeholder="Current password">
            </div>
            <div class="mb-4">
              <label class="block text-sm font-medium">New Password</label>
              <input type="password" class="w-full p-2 border rounded-2xl bg-gray-100 dark:bg-gray-700" placeholder="New password">
            </div>
            <button type="submit" class="p-2 bg-blue-500 text-white rounded-2xl">Change Password</button>
          </form>
        </div>
        <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl">
          <h3 class="text-lg font-semibold">Notification Preferences</h3>
          <form>
            <div class="mb-4">
              <label class="flex items-center space-x-2">
                <input type="checkbox" class="h-4 w-4">
                <span>Email Notifications</span>
              </label>
            </div>
            <div class="mb-4">
              <label class="flex items-center space-x-2">
                <input type="checkbox" class="h-4 w-4">
                <span>Push Notifications</span>
              </label>
            </div>
            <button type="submit" class="p-2 bg-blue-500 text-white rounded-2xl">Save</button>
          </form>
        </div>
      </section>
    </main>
  </div>

  <!-- Chart.js CDN for Earnings Chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // Initialize Lucide Icons
    lucide.createIcons();

    // Theme Toggle
    const themeToggle = document.getElementById('theme-toggle');
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      document.body.classList.toggle('light');
      const icon = themeToggle.querySelector('i');
      if (document.body.classList.contains('dark')) {
        icon.setAttribute('data-lucide', 'moon');
      } else {
        icon.setAttribute('data-lucide', 'sun');
      }
      lucide.createIcons();
    });

    // Profile Dropdown
    const profileToggle = document.getElementById('profile-toggle');
    const profileDropdown = document.getElementById('profile-dropdown');
    profileToggle.addEventListener('click', () => {
      profileDropdown.classList.toggle('hidden');
    });

    // Sidebar Toggle (Mobile)
    const sidebarToggle = document.getElementById('sidebar-toggle');
    const sidebar = document.getElementById('sidebar');
    sidebarToggle.addEventListener('click', () => {
      sidebar.classList.toggle('sidebar-hidden');
    });

    // Page Navigation
    function showPage(pageId) {
      document.querySelectorAll('main section').forEach(section => {
        section.classList.add('hidden');
      });
      document.getElementById(pageId).classList.remove('hidden');
      if (window.innerWidth < 768) {
        sidebar.classList.add('sidebar-hidden');
      }
    }

    // Mock Data for Tasks
    const tasks = [
      { id: 1, title: 'Complete Survey', reward: '$5.00' },
      { id: 2, title: 'Watch Ad Video', reward: '$2.50' },
      { id: 3, title: 'App Install', reward: '$10.00' },
    ];

    // Populate Task List
    const taskList = document.getElementById('task-list');
    tasks.forEach(task => {
      taskList.innerHTML += `
        <div class="card bg-white dark:bg-gray-800 p-6 rounded-2xl flex justify-between items-center">
          <div>
            <h3 class="text-lg font-semibold">${task.title}</h3>
            <p class="text-sm text-gray-500 dark:text-gray-400">Reward: ${task.reward}</p>
          </div>
          <button class="p-2 bg-blue-500 text-white rounded-2xl">Start Task</button>
        </div>
      `;
    });

    // Mock Data for Referral Table
    const referrals = [
      { user: 'friend1@email.com', commission: '$10.00' },
      { user: 'friend2@email.com', commission: '$5.00' },
    ];

    // Populate Referral Table
    const referralTable = document.getElementById('referral-table');
    referrals.forEach(referral => {
      referralTable.innerHTML += `
        <tr>
          <td class="p-2">${referral.user}</td>
          <td class="p-2">${referral.commission}</td>
        </tr>
      `;
    });

    // Mock Data for Transaction Table
    const transactions = [
      { date: '2025-10-01', type: 'Deposit', amount: '$50.00', status: 'Completed' },
      { date: '2025-10-02', type: 'Withdrawal', amount: '$20.00', status: 'Pending' },
    ];

    // Populate Transaction Table
    const transactionTable = document.getElementById('transaction-table');
    transactions.forEach(transaction => {
      transactionTable.innerHTML += `
        <tr>
          <td class="p-2">${transaction.date}</td>
          <td class="p-2">${transaction.type}</td>
          <td class="p-2">${transaction.amount}</td>
          <td class="p-2">${transaction.status}</td>
        </tr>
      `;
    });

    // Mock Data for Ticket Table
    const tickets = [
      { title: 'Payment Issue', status: 'Open' },
      { title: 'Account Verification', status: 'Closed' },
    ];

    // Populate Ticket Table
    const ticketTable = document.getElementById('ticket-table');
    tickets.forEach(ticket => {
      ticketTable.innerHTML += `
        <tr>
          <td class="p-2">${ticket.title}</td>
          <td class="p-2">${ticket.status}</td>
        </tr>
      `;
    });

    // Copy Referral Link
    function copyReferralLink() {
      const link = document.querySelector('#referral input').value;
      navigator.clipboard.writeText(link);
      alert('Referral link copied!');
    }

    // Earnings Chart
    const ctx = document.getElementById('earnings-chart').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Oct 1', 'Oct 2', 'Oct 3', 'Oct 4', 'Oct 5'],
        datasets: [{
          label: 'Daily Earnings',
          data: [10, 20, 15, 25, 30],
          borderColor: '#3b82f6',
          backgroundColor: 'rgba(59, 130, 246, 0.2)',
          fill: true,
        }],
      },
      options: {
        responsive: true,
        scales: {
          y: {
            beginAtZero: true,
          },
        },
      },
    });

    // Show Dashboard by Default
    showPage('dashboard');
  </script>
</body>
</html>
